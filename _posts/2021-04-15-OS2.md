---
title:  "[3~4주차] 운영체제"
excerpt: "컴퓨터 구조와 성능 향상"

categories:
  - 
tags:
  - 
last_modified_at: 2021-04-15 #T08:06:00-05:00
---

---
# 컴퓨터의 기본 구성
- 필수장치
  - 중앙처리장치, 메인메모리(대부분의 작업이 이루어짐)
- 주변장치
  - 입력장치, 출력장치, 저장장치

### 용어 통일
- 메인메모리 -> 메모리
- 보조저장장치 -> 저장장치
- 중앙처리장치 -> CPU

### CPU와 메모리
- CPU : 명령어를 해석하여 실행하는 장치
- 메모리
  - 작업에 필요한 프로그램과 데이터를 저장하는 장소
  - 바이트 단위로 분할되어 있으며 분할 공간마다 주소로 구분

### 입출력장치
- 입력장치 : 외부의 데이터를 컴퓨터에 입력
- 출력장치 : 컴퓨터에서 처리한 결과를 사용자가 원한는 형태로 출력

### 저장장치
- 메모리보다 느리지만 저렴하고 용량이 크다
- 전원의 온/오프와 상관없이 데이터를 영구적으로 저장
- 종류 : 자성, 레이저, 메모리를 이용하는 장치

### 메인보드
- CPU와 메모리 등 다양한 부품을 연결하는 판
- 다양한 장치들을 버스로 연결 (버스 : 데이터가 지나다니는 통로)
- 그래픽카드, 사운드카드, 랜카드 등이 기본으로 장착되어 있지만, 성능 향상을 위해 따로 장착하기도 함

### 폰노이만 구조
- CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어 있는 구조
- 특징 : 저장장치에서 바로 실행할 수 없고, 메모리로 가지고 올라와야지만 가능함

### 하드웨어 사양 관련 용어
- 클록 : CPU의 속도와 관련된 단위
- 클록이 일정 간격으로 틱을 만들면 거기에 맞춰 CPU 안의 모든 부품이 작업함
- 틱은 펄스 or 클록틱이라고도 부름
- 헤르츠(Hz) : 클록틱이 발생하는 속도를 나타내는 단위

---
# CPU의 구성과 동작
- 산술논리 연산장치
- 제어장치
- 레지스터

### 주요 레지스터 종류와 특징
- 사용자 가시 레지스터
  - 데이터 레지스터(DR)
  - 주소 레지스터(AR)
- 사용자 불가시 레지스터
  - 프로그램 카운터(PC)
  - 명령어 레지스터(IR)
  - 메모리 주소 레지스터(MAR)
  - 메모리 버퍼 레지스터(MBR)
  - 프로그램 상태 레지스터(PSR)

### 버스의 종류
- CPU 내부 버스(BSB)
  - 속도가 빠름
- 시스템 버스(FSB)
  - 속도가 느림
  - 제어 버스, 주소 버스, 데이터 버스

---
# 메모리
### 메모리 종류
- RAM : Read and Write
  - 휘발성 -> DRAM, SRAM, SDRAM
  - 비휘발성 -> 플래시 메모리, SDD, FRAM, PRAM
- ROM : Read Only
  - 마스크 롬, PROM, EPROM

### 메모리 보호의 필요성  
메모리가 보호되지 않으면 어떤 작업이 다른 작업의 영역을 침범하여 프로그램을 파괴하거나 데이터를 지울 수 있으며, 최악의 경우 운영체제 영역을 침범하면 시스템이 멈출 수 있음

---
# 버퍼
- 중간 임시 저장소
- 속도에 차이가 있는 두 장치 사이에서 그 차이를 완화하는 역할을 하는 장치
- 스풀 : 버퍼와 같은 개념

---
# <mark>캐시</mark>
- 버퍼의 일종
- 메모리와 CPU 간의 속도 차이를 완화하기 위해 메모리의 데이터를 미리 가져와 저장해두는 임시 장소

### 캐시의 구조
- 캐시 히트 : 캐시에서 원하는 데이터를 찾는 것
- 캐시 미스 : 원하는 데이터가 캐시에 없으면 메모리로 가서 데이터 찾음
- 캐시 적중률 : 캐시 히트가 되는 비율 (일반적으로 적중률 90%)

### 즉시 쓰기
캐시에 있는 데이터가 업데이트되면 즉시 메모리에 반영
### 지연 쓰기
일정 시간 안에 캐시에 업데이트 된 데이터들을 모아서 메모리에 반영

### L1 캐시 (Level 1)
특수 캐시 : CPU 레지스터와 직접 연결
### L2 캐시 (Level 2)
일반 캐시 : 메모리와 연결

----
# 저장장치의 계층 구조

|속도|저장장치|용량|
|:---:|:---:|:---:|
|▲|레지스터| │|
| │|캐시| │|
| │|메모리| │|
| │|저장장치|▼|

---
# 인터럽터(Interrupt)
- 인터럽트 방식  
  입출력 관리자가 대신 입출력을 해주는 방식 (CPU가 일하고 있을 때 외부에서 신호를 주는것)  
- 폴링 방식  
  CPU가 직접 입출력장치에서 데이터를 가져오거나 내보내는것 (비효율적)

### 인터럽트
입출력 관리자가 CPU에 보내는 완료 신호
### 인터럽트 번호
I/O 장치마다 할당된 번호
### 인터럽트 벡터
여러 개의 인터럽트를 하나의 배열로 만든 것

### 직접 메모리 접근(DMA)
입출력 관리자가 CPU 허락없이 메모리에 접근할 수 있는 권한
### 메모리 매핑 입출력(MMIO)
메모리의 일정 공간을 입출력에 할당하는 기법

---
# 병렬 처리
- 동시에 여러 개의 명령을 처리하여 작업의 능률을 올리는 방식  

### 병렬 처리 기법
- 파이프라인 기법
  - 하나의 코어에 여러 개의 스레드를 이용하는 방식
- 슈퍼스칼라 기법
  - 듀얼 코어를 이용해서 처리하는 방식
- 슈퍼파이프라인 기법
  - 파이프라인의 각 단계를 세분하여 한 클록 내에 여러 명령어를 처리
병렬 처리 능력이 높아짐
- 슈퍼파이프라인 슈퍼스칼라 기법
  - 수퍼파이프라인 기법을 여러 개의 코어에서 동시에 수행하는 방식
- VLIW 기법
  - CPU가 병렬 처리를 지원하지 않을 경우 소프트웨어적으로 병렬 처리 하는 방법

### 병렬 처리 시 고려 사항
- 상호 의존성이 없어야 한다.
- 각 단계의 시간을 일정하게 맞춰야 병렬 처리가 원만하게 이루어짐

### CPU에서 명령어가 실행되는 과정
1. 명령어 패치(IF) : 다음에 실행할 명령어를 명령어 레지스터에 저장
2. 명령어 해석(ID) : 명령어 해석
3. 실행(EX) : 해석한 결과를 토대로 명령어 실행
4. 쓰기(WB) : 실행된 결과를 메모리에 저장

### 파이프라인의 위험
- 데이터 위험
 - 데이터의 의존성 때문에 발생하는 문제
- 제어 위험
 - 프로그램 카운터 값을 갑자기 변화시켜 발생하는 위험
- 구조 위험
 - 서로 다른 명령어가 같은 자원에 접근하려 할 때 발생하는 문제